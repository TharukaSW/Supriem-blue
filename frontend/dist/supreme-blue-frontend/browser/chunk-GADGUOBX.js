import{a as P}from"./chunk-SLGPX2ND.js";import{a as G,b as H}from"./chunk-3AGII5U5.js";import{b as q,c as z,d as J,e as K}from"./chunk-K2SJH3O2.js";import{a as I,b as T,c as W,d as N,f as j}from"./chunk-B7D3IYK4.js";import{a as A,g as R,h as U}from"./chunk-MH2VXUWF.js";import{b as v,f as B,g as L,h as x,i as E,j as O,q as F,s as k,u as D,w as V}from"./chunk-HNMV2PS5.js";import{c as y}from"./chunk-ACY4WVXQ.js";import"./chunk-RFM3TPKV.js";import"./chunk-YCMZOG5D.js";import{Fb as m,Ha as d,Ia as s,Jb as l,Kb as p,Lb as g,Nb as b,Ra as f,Ya as M,bb as h,gb as C,ha as c,kb as n,lb as o,mb as _,tb as S,uc as w}from"./chunk-6JSNIO2G.js";function X(i,Q){i&1&&_(0,"mat-spinner",7)}function Y(i,Q){i&1&&m(0," Login ")}var Ce=(()=>{class i{authService;router;snackBar;username="";password="";loading=f(!1);constructor(r,t,e){this.authService=r,this.router=t,this.snackBar=e,r.isAuthenticated()&&t.navigate(["/dashboard"])}onSubmit(){if(!this.username||!this.password){this.snackBar.open("Please enter username and password","Close",{duration:3e3});return}this.loading.set(!0),this.authService.login(this.username,this.password).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:r=>{this.loading.set(!1);let t=r.error?.message||"Login failed. Please try again.";this.snackBar.open(t,"Close",{duration:5e3})}})}static \u0275fac=function(t){return new(t||i)(s(P),s(y),s(J))};static \u0275cmp=c({type:i,selectors:[["app-login"]],standalone:!0,features:[b],decls:21,vars:4,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","name","username","required","","placeholder","SBA001",3,"ngModelChange","ngModel"],["matInput","","name","password","type","password","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",1,"full-width","login-btn",3,"disabled"],["diameter","20"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"h1"),m(5,"SUPREME BLUE"),o(),n(6,"p"),m(7,"Water Bottling Factory ERP"),o()()(),n(8,"mat-card-content")(9,"form",2),S("ngSubmit",function(){return e.onSubmit()}),n(10,"mat-form-field",3)(11,"mat-label"),m(12,"User Code / Username"),o(),n(13,"input",4),g("ngModelChange",function(a){return p(e.username,a)||(e.username=a),a}),o()(),n(14,"mat-form-field",3)(15,"mat-label"),m(16,"Password"),o(),n(17,"input",5),g("ngModelChange",function(a){return p(e.password,a)||(e.password=a),a}),o()(),n(18,"button",6),M(19,X,1,0,"mat-spinner",7)(20,Y,1,0),o()()()()()),t&2&&(d(13),l("ngModel",e.username),d(4),l("ngModel",e.password),d(),h("disabled",e.loading()),d(),C(e.loading()?19:20))},dependencies:[w,k,O,v,B,L,F,E,x,j,I,W,N,T,U,R,A,z,q,V,D,H,G,K],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#1a237e,#0d47a1,#01579b)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:32px}mat-card-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:24px}mat-card-title[_ngcontent-%COMP%]{text-align:center}mat-card-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1a237e;font-size:1.75rem}mat-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-size:.875rem}.login-btn[_ngcontent-%COMP%]{height:48px;font-size:1rem;margin-top:16px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}"]})}return i})();export{Ce as LoginComponent};
