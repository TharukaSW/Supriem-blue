import{a as k,b as O}from"./chunk-3AGII5U5.js";import{a as w,b as y}from"./chunk-ZJOCXRYO.js";import{a as b,b as C,c as M,d as _,e as I,f as P}from"./chunk-B7D3IYK4.js";import{a as D}from"./chunk-INZLI3TU.js";import"./chunk-RFM3TPKV.js";import"./chunk-YCMZOG5D.js";import{Fb as n,Gb as m,Ha as i,Hb as d,Ia as g,Nb as S,Ra as s,Ya as p,db as c,gb as x,ha as f,kb as e,lb as t,mb as h,uc as E,vb as v}from"./chunk-6JSNIO2G.js";function T(r,u){if(r&1&&(e(0,"span",2),n(1),t()),r&2){let a,o=v();i(),m((a=o.data())==null||a.period==null?null:a.period.month)}}function L(r,u){r&1&&(e(0,"div",3),h(1,"mat-spinner"),t())}function A(r,u){if(r&1&&(e(0,"div",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-icon",6),n(4,"point_of_sale"),t(),e(5,"mat-card-title"),n(6,"Sales This Month"),t()(),e(7,"mat-card-content")(8,"div",7),n(9),t(),e(10,"div",8),n(11),t()()(),e(12,"mat-card",5)(13,"mat-card-header")(14,"mat-icon",9),n(15,"shopping_cart"),t(),e(16,"mat-card-title"),n(17,"Purchases This Month"),t()(),e(18,"mat-card-content")(19,"div",7),n(20),t(),e(21,"div",8),n(22),t()()(),e(23,"mat-card",5)(24,"mat-card-header")(25,"mat-icon",10),n(26,"payments"),t(),e(27,"mat-card-title"),n(28,"Expenses This Month"),t()(),e(29,"mat-card-content")(30,"div",7),n(31),t(),e(32,"div",8),n(33),t()()(),e(34,"mat-card",5)(35,"mat-card-header")(36,"mat-icon",11),n(37,"trending_up"),t(),e(38,"mat-card-title"),n(39,"Profit"),t()(),e(40,"mat-card-content")(41,"div",7),n(42),t(),e(43,"div",8),n(44,"This month"),t()()(),e(45,"mat-card",5)(46,"mat-card-header")(47,"mat-icon",12),n(48,"pending_actions"),t(),e(49,"mat-card-title"),n(50,"Pending Orders"),t()(),e(51,"mat-card-content")(52,"div",7),n(53),t(),e(54,"div",8),n(55,"Awaiting confirmation"),t()()(),e(56,"mat-card",5)(57,"mat-card-header")(58,"mat-icon",13),n(59,"inventory"),t(),e(60,"mat-card-title"),n(61,"Low Stock Items"),t()(),e(62,"mat-card-content")(63,"div",7),n(64),t(),e(65,"div",8),n(66,"Items below 10 units"),t()()(),e(67,"mat-card",5)(68,"mat-card-header")(69,"mat-icon",14),n(70,"badge"),t(),e(71,"mat-card-title"),n(72,"Today's Attendance"),t()(),e(73,"mat-card-content")(74,"div",7),n(75),t(),e(76,"div",8),n(77,"Employees clocked in"),t()()()()),r&2){let a=v();i(9),d("LKR ",a.formatNumber(a.data().sales.total),""),i(2),d("",a.data().sales.count," invoices"),i(9),d("LKR ",a.formatNumber(a.data().purchases.total),""),i(2),d("",a.data().purchases.count," orders"),i(9),d("LKR ",a.formatNumber(a.data().expenses.total),""),i(2),d("",a.data().expenses.count," entries"),i(3),c("negative",a.data().profit<0),i(5),c("text-success",a.data().profit>=0)("text-danger",a.data().profit<0),i(),d(" LKR ",a.formatNumber(a.data().profit)," "),i(11),m(a.data().pendingOrders),i(5),c("warning",a.data().lowStockItems>0),i(5),c("text-warning",a.data().lowStockItems>0),i(),m(a.data().lowStockItems),i(11),m(a.data().todayAttendance)}}var Q=(()=>{class r{api;loading=s(!0);data=s(null);constructor(a){this.api=a}ngOnInit(){this.api.get("reports/dashboard").subscribe({next:a=>{this.data.set(a),this.loading.set(!1)},error:()=>this.loading.set(!1)})}formatNumber(a){return a.toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2})}static \u0275fac=function(o){return new(o||r)(g(D))};static \u0275cmp=f({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[S],decls:7,vars:2,consts:[[1,"page-container"],[1,"page-header"],[1,"period"],[1,"loading-container"],[1,"card-grid"],[1,"summary-card"],["mat-card-avatar","",1,"card-icon","sales"],[1,"value"],[1,"label"],["mat-card-avatar","",1,"card-icon","purchases"],["mat-card-avatar","",1,"card-icon","expenses"],["mat-card-avatar","",1,"card-icon","profit"],["mat-card-avatar","",1,"card-icon","orders"],["mat-card-avatar","",1,"card-icon","stock"],["mat-card-avatar","",1,"card-icon","attendance"]],template:function(o,l){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Dashboard"),t(),p(4,T,2,1,"span",2),t(),p(5,L,2,0,"div",3)(6,A,78,20,"div",4),t()),o&2&&(i(4),x(l.data()?4:-1),i(),x(l.loading()?5:l.data()?6:-1))},dependencies:[E,P,b,I,M,_,C,y,w,O,k],styles:[".period[_ngcontent-%COMP%]{color:#666;font-size:.875rem}.card-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;line-height:48px;border-radius:8px;color:#fff}.card-icon.sales[_ngcontent-%COMP%]{background:#4caf50}.card-icon.purchases[_ngcontent-%COMP%]{background:#2196f3}.card-icon.expenses[_ngcontent-%COMP%]{background:#ff9800}.card-icon.profit[_ngcontent-%COMP%]{background:#9c27b0}.card-icon.orders[_ngcontent-%COMP%]{background:#607d8b}.card-icon.stock[_ngcontent-%COMP%]{background:#795548}.card-icon.stock.warning[_ngcontent-%COMP%]{background:#f44336}.card-icon.attendance[_ngcontent-%COMP%]{background:#00bcd4}"]})}return r})();export{Q as DashboardComponent};
