
> backend@0.0.1 start
> nest start

[96mprisma/seed.ts[0m:[93m193[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType '{ itemCode: string; itemName: string; itemType: string; categoryId: number; unitId: number; isActive: boolean; }' is not assignable to type '(Without<ItemCreateInput, ItemUncheckedCreateInput> & ItemUncheckedCreateInput) | (Without<...> & ItemCreateInput)'.
  Type '{ itemCode: string; itemName: string; itemType: string; categoryId: number; unitId: number; isActive: boolean; }' is not assignable to type 'Without<ItemCreateInput, ItemUncheckedCreateInput> & ItemUncheckedCreateInput'.
    Type '{ itemCode: string; itemName: string; itemType: string; categoryId: number; unitId: number; isActive: boolean; }' is not assignable to type 'ItemUncheckedCreateInput'.
      Types of property 'itemType' are incompatible.
        Type 'string' is not assignable to type 'ItemType'.

[7m193[0m         create: item,
[7m   [0m [91m        ~~~~~~[0m

  [96mnode_modules/.prisma/client/index.d.ts[0m:[93m15613[0m:[93m5[0m
    [7m15613[0m     create: XOR<ItemCreateInput, ItemUncheckedCreateInput>
    [7m     [0m [96m    ~~~~~~[0m
    The expected type comes from property 'create' which is declared here on type '{ select?: ItemSelect<DefaultArgs> | null | undefined; include?: ItemInclude<DefaultArgs> | null | undefined; where: ItemWhereUniqueInput; create: (Without<...> & ItemUncheckedCreateInput) | (Without<...> & ItemCreateInput); update: (Without<...> & ItemUncheckedUpdateInput) | (Without<...> & ItemUpdateInput); }'
[96msrc/purchasing/purchasing.service.ts[0m:[93m82[0m:[93m33[0m - [91merror[0m[90m TS2339: [0mProperty 'overrideReason' does not exist on type 'PurchaseOrderLineDto'.

[7m82[0m           overrideReason = line.overrideReason || 'Manual price adjustment';
[7m  [0m [91m                                ~~~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m83[0m:[93m11[0m - [91merror[0m[90m TS2322: [0mType 'bigint' is not assignable to type 'null'.

[7m83[0m           overriddenBy = userId;
[7m  [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m116[0m:[93m11[0m - [91merror[0m[90m TS2322: [0mType '{ itemId: bigint; qty: number; unitPrice: number | undefined; lineTotal: number; priceSource: string; overrideReason: null; overriddenBy: null; }[]' is not assignable to type '(Without<PurchaseOrderLineCreateWithoutPurchaseOrderInput, PurchaseOrderLineUncheckedCreateWithoutPurchaseOrderInput> & PurchaseOrderLineUncheckedCreateWithoutPurchaseOrderInput) | (Without<...> & PurchaseOrderLineCreateWithoutPurchaseOrderInput) | PurchaseOrderLineCreateWithoutPurchaseOrderInput[] | PurchaseOrderLi...'.
  Type '{ itemId: bigint; qty: number; unitPrice: number | undefined; lineTotal: number; priceSource: string; overrideReason: null; overriddenBy: null; }[]' is not assignable to type 'PurchaseOrderLineCreateWithoutPurchaseOrderInput[]'.
    Property 'item' is missing in type '{ itemId: bigint; qty: number; unitPrice: number | undefined; lineTotal: number; priceSource: string; overrideReason: null; overriddenBy: null; }' but required in type 'PurchaseOrderLineCreateWithoutPurchaseOrderInput'.

[7m116[0m           create: linesData,
[7m   [0m [91m          ~~~~~~[0m

  [96mnode_modules/.prisma/client/index.d.ts[0m:[93m50625[0m:[93m5[0m
    [7m50625[0m     item: ItemCreateNestedOneWithoutPurchaseOrderLinesInput
    [7m     [0m [96m    ~~~~[0m
    'item' is declared here.
[96msrc/purchasing/purchasing.service.ts[0m:[93m246[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ itemId: bigint; qty: number; unitPrice: number | undefined; lineTotal: number; priceSource: string; overrideReason: null; overriddenBy: null; }[]' is not assignable to type 'undefined'.

[7m246[0m       linesData = await Promise.all(
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m248[0m:[93m40[0m - [91merror[0m[90m TS18048: [0m'line.unitPrice' is possibly 'undefined'.

[7m248[0m           const lineTotal = line.qty * line.unitPrice;
[7m   [0m [91m                                       ~~~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m261[0m:[93m56[0m - [91merror[0m[90m TS18048: [0m'line.unitPrice' is possibly 'undefined'.

[7m261[0m             Math.abs(Number(supplierPrice.unitPrice) - line.unitPrice) > 0.01
[7m   [0m [91m                                                       ~~~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m273[0m:[93m35[0m - [91merror[0m[90m TS2339: [0mProperty 'overrideReason' does not exist on type 'PurchaseOrderLineDto'.

[7m273[0m             overrideReason = line.overrideReason || 'Manual price adjustment';
[7m   [0m [91m                                  ~~~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m274[0m:[93m13[0m - [91merror[0m[90m TS2322: [0mType 'bigint' is not assignable to type 'null'.

[7m274[0m             overriddenBy = userId;
[7m   [0m [91m            ~~~~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m289[0m:[93m18[0m - [91merror[0m[90m TS18048: [0m'linesData' is possibly 'undefined'.

[7m289[0m       subtotal = linesData.reduce((sum, l) => sum + Number(l.lineTotal), 0);
[7m   [0m [91m                 ~~~~~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m292[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'number' is not assignable to type 'undefined'.

[7m292[0m       total = subtotal - Number(discount) + Number(tax);
[7m   [0m [91m      ~~~~~[0m
[96msrc/purchasing/purchasing.service.ts[0m:[93m292[0m:[93m15[0m - [91merror[0m[90m TS18048: [0m'subtotal' is possibly 'undefined'.

[7m292[0m       total = subtotal - Number(discount) + Number(tax);
[7m   [0m [91m              ~~~~~~~~[0m

Found 12 error(s).

